<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.enez.market.product.Service">

  
  <insert id="productsave">
    insert into product (seller_id, product_no, product_image, title, category_name, location, price, detail)
    values (#{param1}, pro_no.nextval, #{param2}, #{param3}, #{param4}, #{param5}, #{param6}, #{param7})
</insert>
	
<select id="productout" resultType="com.enez.market.product.ProductDTO">
	select * from product where title = #{param1}		
</select>

<update id="count">
	update product set view_cnt=view_cnt+1 where title = #{param1}
</update>

<select id="jjimcount" resultType="Integer" >
SELECT count(*) FROM PRODUCT_JJIM where PRODUCT_NO in #{param1}
</select>
<select id="jjimcheck" resultType="Integer" >
SELECT count(*) FROM PRODUCT_JJIM where USER_ID in #{param2} and PRODUCT_NO in #{param1} and SELLER_ID in #{param3}
</select>

 <insert id="jjimupdate_insert">
    insert into product_jjim (product_no, user_id, seller_id) values (#{param1},#{param2},#{param3})
</insert>
	
<delete id="jjimupdate_delet">
delete from PRODUCT_JJIM where USER_ID in #{param2} and PRODUCT_NO in #{param1} and SELLER_ID in #{param3}
</delete>

</mapper>